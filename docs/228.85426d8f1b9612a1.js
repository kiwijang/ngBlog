"use strict";(self.webpackChunkng_blog=self.webpackChunkng_blog||[]).push([[228],{228:(M,d,a)=>{a.r(d),a.d(d,{NoteModule:()=>l});var p=a(895),g=a(322),t=a(256);class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["ng-blog-notelist"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"notelist works!"),t.qZA())}});var h=a(99);class s{getHtmlText(){return fetch("/notes/about.html")}}s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"});const y=["bar"];function f(i,e){if(1&i){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.unMute())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",16),t.qZA()()}}function m(i,e){if(1&i){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.mute())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",18),t.qZA()()}}const b=function(i){return{width:i}};class u{constructor(e,n,o){this.noteService=e,this._renderer2=n,this._document=o,this.note="",this.duration=0,this.currentTime=0,this.isMuted=!0,this.barWidth="0%",this.firstTime=!0,this.isPlaying=!1}ngOnInit(){var e=this;return(0,h.Z)(function*(){const n=e._renderer2.createElement("script");n.type="text/javascript",n.id="www-widgetapi-script",n.src="/assets/ytapi.js",e._renderer2.appendChild(e._document.head,n),yield e.get(),window.YT&&e.onYouTubeIframeAPIReady()})()}onYouTubeIframeAPIReady(){this.player=new window.YT.Player("player",{height:"174",width:"348",videoId:"nfQkhXKk_IQ",playerVars:{autoplay:0,controls:0,loop:1,playsinline:1,origin:"https://kiwijang.github.io"},events:{onReady:this.onPlayerReady.bind(this)}})}onPlayerReady(e){if(console.log(window.YT),this.isMuted=e.target.isMuted(),this.player=e.target,console.log(this.player),this.checkIsMuted(),this.duration=this.player.getDuration(),this.currentTime=this.player.getCurrentTime(),this.barWidth=String(this.currentTime/this.duration*100)+"%",console.log(this.duration,this.currentTime),this.firstTime){console.log("isfisrt");const n=setInterval(()=>{console.log("upd"),1===this.player.getPlayerState()?this.isPlaying=!0:2===this.player.getPlayerState()&&(this.isPlaying=!1),this.bar.nativeElement?(this.currentTime=this.player.getCurrentTime(),this.barWidth=String(this.currentTime/this.duration*100)+"%"):clearInterval(n)},1e3);this.firstTime=!1}}get(){var e=this;return(0,h.Z)(function*(){yield e.noteService.getHtmlText().then(n=>{n.text().then(o=>{e.note=o,console.log(o)})})})()}stopVideo(){this.player&&(this.player.seekTo(0),this.pauseVideo(),this.isPlaying=!1)}pauseVideo(){this.player&&this.player.pauseVideo()}playMyVedio(){this.player&&(this.player.playVideo(),console.log("playMyVedio"))}unMute(){this.checkIsMuted()}mute(){this.checkIsMuted()}checkIsMuted(){this.player&&(this.isMuted?this.player.unMute():this.player.mute(),this.isMuted=!this.isMuted)}barClicked(e){console.log("ccc");const n=e.offsetX;let o=0;const r=e.target.offsetWidth;this.player&&(this.duration=this.player.getDuration(),o=Math.floor(n/r*this.duration),this.player.seekTo(o)),this.currentTime=this.player.getCurrentTime(),this.barWidth=String(this.currentTime/this.duration*100)+"%"}}u.\u0275fac=function(e){return new(e||u)(t.Y36(s),t.Y36(t.Qsj),t.Y36(p.K0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["ng-blog-note"]],viewQuery:function(e,n){if(1&e&&t.Gf(y,5),2&e){let o;t.iGM(o=t.CRH())&&(n.bar=o.first)}},decls:16,vars:7,consts:[[3,"innerHTML"],["id","wrap"],["id","player"],[1,"wrap-panel"],[1,"playingText"],["id","btn-area"],["id","btn-stop",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z","clip-rule","evenodd"],["id","btn-unMute","style","display: flex",3,"click",4,"ngIf"],["id","btn-mute","style","display: flex",3,"click",4,"ngIf"],["id","bar-wrap",3,"click"],["barWrap",""],["id","bar",3,"ngStyle"],["bar",""],["id","btn-unMute",2,"display","flex",3,"click"],["fill-rule","evenodd","d","M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z","clip-rule","evenodd"],["id","btn-mute",2,"display","flex",3,"click"],["fill-rule","evenodd","d","M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z","clip-rule","evenodd"]],template:function(e,n){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return n.stopVideo()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.YNc(10,f,3,0,"button",9),t.YNc(11,m,3,0,"button",10),t.qZA()(),t.kcU(),t.TgZ(12,"div",11,12),t.NdJ("click",function(r){return n.barClicked(r)}),t._UZ(14,"div",13,14),t.qZA()()),2&e&&(t.Q6J("innerHTML",n.note,t.oJD),t.xp6(5),t.Oqu(n.isPlaying?"\u64ad\u653e\u4e2d...":"\u5df2\u505c\u6b62"),t.xp6(5),t.Q6J("ngIf",n.isMuted),t.xp6(1),t.Q6J("ngIf",!n.isMuted),t.xp6(3),t.Q6J("ngStyle",t.VKq(5,b,n.barWidth)))},dependencies:[p.O5,p.PC],styles:["#wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:350px;border-radius:5px;box-shadow:0 2px 5px #aaa;padding:8px 8px 5px;margin:20px}@media (max-width: 440px){#wrap[_ngcontent-%COMP%]{display:none}}#bar-wrap[_ngcontent-%COMP%]{margin:5px 0;width:100%;height:10px;background-color:#eee;cursor:pointer}#bar[_ngcontent-%COMP%]{width:0%;height:10px;background-color:#aaa;pointer-events:none}#btn-area[_ngcontent-%COMP%]{flex:1 1 60%;display:flex;align-items:center}#btn-play[_ngcontent-%COMP%], #btn-pause[_ngcontent-%COMP%], #btn-stop[_ngcontent-%COMP%], #btn-mute[_ngcontent-%COMP%], #btn-unMute[_ngcontent-%COMP%]{background-color:transparent;border:none;display:inline-flex;justify-content:center;align-items:center;cursor:pointer}#btn-play[_ngcontent-%COMP%]:hover, #btn-pause[_ngcontent-%COMP%]:hover, #btn-stop[_ngcontent-%COMP%]:hover, #btn-mute[_ngcontent-%COMP%]:hover, #btn-unMute[_ngcontent-%COMP%]:hover{color:#ccc}#btn-play[_ngcontent-%COMP%]:active, #btn-pause[_ngcontent-%COMP%]:active, #btn-stop[_ngcontent-%COMP%]:active{color:#aaa}.h-5[_ngcontent-%COMP%]{height:20px}.w-5[_ngcontent-%COMP%]{width:20px}.playingText[_ngcontent-%COMP%]{flex:1 1 40%;color:gray;font-size:12px;display:flex;align-items:center}.wrap-panel[_ngcontent-%COMP%]{margin-top:5px;display:flex;width:100%}"]});class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[p.ez,g.Bz.forChild([{path:"",component:c},{path:":id",component:u}])]})}}]);