<div class="NoteDescWrap"><h1>1227 å¾ Nx å…¥é–€ monorepo</h1><div class="NoteDescWrap_desc"></div><div class="NoteDescWrap_time"></div><div class="NoteDescWrap_tags"><span class="tag">PROG.Nx</span></div><span>æ›´æ–°æ™‚é–“: 2022/9/8 ä¸‹åˆ 02:55</span> | <span>æ–°å¢æ™‚é–“: 2022/9/8 ä¸‹åˆ 02:55</span></div><h2>å‰è¨€</h2>
<blockquote>
<p>æ³¨æ„: æ­¤ç¯‡æ–‡ç« æ’°å¯«æ™‚é–“ Nx ç‰ˆæœ¬ç‚º 12ï¼Œè·Ÿç›®å‰ç‰ˆæœ¬å¯èƒ½æœ‰äº›ä¸ä¸€ã€‚ (Nx ç‰ˆè™Ÿæœƒè·Ÿ Angular ç‰ˆè™Ÿä¸€æ¨£)</p>
</blockquote>
<p>ä½¿ç”¨ Nx Console å¯¦ç¾ä¸€å€‹ Monorepo æ¶æ§‹çš„å°ˆæ¡ˆã€‚</p>
<p>å°è®€å½±ç‰‡: <a href="https://www.youtube.com/watch?v=9iU_IE6vnJ8">Monorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx</a></p>
<h2>1. ç°¡ä»‹ Monorepo æ¶æ§‹</h2>
<p>Monorepo (å…¨å Monolithic Repository)ï¼Œç¬¦åˆä»¥ä¸‹ä¸‰å€‹æ¢ä»¶:</p>
<ol>
<li><strong>ä¸€å€‹ repo</strong> One Repository</li>
<li><strong>å¤šå€‹ projects</strong> Multiple projects (ä¸‰å€‹ app åŠ ä¸Šå…©å€‹ libs å…± 5 å€‹å°ˆæ¡ˆ)</li>
<li><strong>å…±ç”¨ libs</strong> Shared Libraries</li>
</ol>
<p>å¦‚ä¸‹åœ–ï¼Œé€™å°±æ˜¯ä¸€å€‹ Monorepo:</p>
<p><img src="/assets/images/2021-12-27-22-50-05.png" alt="MonoRepo" /></p>
<p>Monorepo æ¶æ§‹çš„ä¸»è¦ç›®çš„æ˜¯å¸Œæœ›<strong>é›†ä¸­ç®¡ç†å¥—ä»¶ç‰ˆæœ¬</strong>ã€‚</p>
<p>åªç®¡ç†<strong>ä¸€å€‹</strong> <code>package.json</code>ï¼Œå¥½è™•æ˜¯å¥—ä»¶ç‰ˆæœ¬ç®¡ç†æ–¹ä¾¿ã€å£è™•æ˜¯ä¸€å€‹ repo æœ‰å¤šå€‹ projectsï¼Œæª”æ¡ˆå®¹æ˜“è®Šéå¸¸å¤§ï¼Œè®“ git ç‰ˆæ§è»Ÿé«”è·‘èµ·ä¾†è¼ƒåƒåŠ›ã€‚</p>
<p>å¦å¤– Monorepo è®“ apps ä¹‹é–“å…±ç”¨ libs è®Šå¾—æ–¹ä¾¿ç°¡å–®ï¼Œæ‰€ä»¥å¯ä»¥é™ä½é‡è¤‡ç¨‹å¼ç¢¼çš„æ©Ÿç‡ã€‚
ä¹Ÿå¯ä»¥è®“ Lernaã€yarn ç­‰å¥—ä»¶ç®¡ç†å·¥å…·æ›´æ–¹ä¾¿çš„æ¸›å°‘é‡è¤‡çš„å¥—ä»¶å®‰è£ã€‚</p>
<p>ä»¥ Nx ä¾†èªªï¼Œé‚„æœ‰å€‹é…·é…·çš„ç‰¹è‰²:å¯ä»¥åœ¨åŒä¸€å€‹ repo è£¡åŒæ™‚ä½¿ç”¨ react å’Œ angular å…±åŒé–‹ç™¼ä¸€å€‹ appã€‚</p>
<p>é›–ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ rollupjs ä¾†é”åˆ°ä¸åŒå‰ç«¯æ¡†æ¶å…±åŒé–‹ç™¼ä¸€å€‹ app çš„æ•ˆæœã€‚</p>
<p>ä½† Nx å°±åƒ monorepo å…¨å®¶æ¡¶: æä¾›ä¸€å€‹ Nx workspace è®“ä½ çš„ monorepo é–‹ç™¼æ›´å®¹æ˜“ã€‚</p>
<p>æ¥ä¸‹ä¾†ï¼Œåœ¨çœ‹ Nx æ€éº¼ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆä¾†ä¸€äº›å…ˆå‚™çŸ¥è­˜ã€‚</p>
<h2>2. ç°¡ä»‹ Nx å·¥å…·èˆ‡å°ˆæœ‰åè©è§£é‡‹</h2>
<h3>2-1. ä»€éº¼æ˜¯ Nx ?</h3>
<p>å®˜ç¶²: https://nx.dev/</p>
<p><img src="/assets/images/2021-12-27-23-55-50.png" alt="" /></p>
<blockquote>
<p>è°æ˜ã€å¯æ“´å……çš„å»ºç½®æ¡†æ¶ï¼ŒNx å¹«åŠ©ä»»ä½•è¦æ¨¡çš„æ¶æ§‹ã€æ¸¬è©¦ã€å»ºç½®ã€‚
(Smart, Extensible Build Framework Nx helps architect, test, build at any scale:)</p>
</blockquote>
<ul>
<li>ä»¥ç¾ä»£æ¡†æ¶é€²è¡Œæ•´åˆã€‚(integrations with modern frameworks)</li>
<li>è¨ˆç®—å¿«å–ã€‚(computation caching)</li>
<li>è°æ˜çš„é‡æ–°å»ºç½®è¢«ä¿®æ”¹éçš„å°ˆæ¡ˆã€‚(smart rebuilds of affected projects)</li>
<li>åˆ†æ•£å¼ä»»å‹™åŸ·è¡Œã€‚(distributed task execution)</li>
<li>å¼·å¤§çš„ç¨‹å¼ç¢¼ç”¢ç”Ÿå™¨ã€‚(powerful code generators)</li>
<li>æ”¯æ´ VSCode å’Œ WebStorm ç·¨è¼¯å™¨ã€‚(editor support (VSCode, WebStorm))</li>
<li>(GitHub apps)</li>
<li>é‚„æœ‰æ›´å¤šã€‚(and more.)</li>
</ul>
<p><strong>ç°¡å–®ä¾†èªªå°±æ˜¯: å¯ä»¥ç”¨ Nx æä¾›çš„æ¶æ§‹å»æ•´åˆç¨‹å¼ç¢¼ã€‚</strong></p>
<h3>2-2. Nx çš„è£½ä½œåœ˜éšŠ</h3>
<p>narwhal ç°¡å¯« Nrwlï¼Œæ˜¯ç¨è§’é¯¨çš„è‹±æ–‡ã€‚</p>
<p><img src="/assets/images/2021-12-27-23-57-12.png" alt="" /></p>
<p>é¡§å•ã€å·¥ç¨‹ã€è¨“ç·´ã€‚
Consulting. Engineering. Training.</p>
<p>Nrwl å‰µç«‹æ–¼ 2016 12 æœˆï¼Œä»¥ Angular åœ˜éšŠæˆå“¡ã€å¤šä½å‰ Google å“¡å·¥ã€Jeff Crossã€Victor Savkin æ‰€çµ„æˆã€‚</p>
<p>å¦‚ä»Šå·²æœ‰ 18 ä½å·¦å³æˆå“¡ (åœ¨ç¾åœ‹ã€åŠ æ‹¿å¤§å’Œè‹±åœ‹)ã€‚</p>
<p>Nrwl ä¹Ÿæ˜¯é–‹æºé–‹ç™¼å·¥å…·å€‘çš„è£½ä½œè€…: çµ¦ monorepo é–‹ç™¼ç”¨çš„ Nxã€å’Œ Angular Consoleã€‚</p>
<p>Nrwl was founded in December 2016 by Angular team members and former Googlers, Jeff Cross and Victor Savkin, and today has around 18 team members in the US, Canada and UK.
Nrwl is also the creator of open-source dev tools: Nx for monorepo development, and Angular Console.</p>
<p><strong>ç°¡å–®ä¾†èªª Nrwl å°±æ˜¯ä¸€é–“ç§‘æŠ€å…¬å¸ (Narwhal Technologies Inc.)</strong></p>
<h3>2-3. Angular monorepo patterns</h3>
<p>é€™æœ¬æ›¸èªªæ˜äº† nx æ˜¯å¦‚ä½•å¯¦è¸ monerepo æ¦‚å¿µã€‚</p>
<p><img src="/assets/images/2021-12-27-23-59-52.png" alt="" /></p>
<ul>
<li>https://connect.nrwl.io/app/books</li>
<li>https://nrwl.io/products</li>
</ul>
<h3>2-4. Nx èˆ‡ Angular æ·µæºä¸æ·º</h3>
<p><img src="/assets/images/2021-12-28-00-06-48.png" alt="" /></p>
<blockquote>
<p>æˆªåœ–è‡ª <a href="https://www.youtube.com/watch?v=9iU_IE6vnJ8">Monorepos - How the Pros Scale Huge Software Projects // Turborepo vs Nx</a></p>
</blockquote>
<p>ä¸Šé¢é€™å…©ä½ Nx é–‹ç™¼çš„ä¸»å°è€…æ˜¯ Google çš„å‰å“¡å·¥ï¼Œä¸”å° Angular éƒ½æœ‰ç›¸ç•¶æ·±å…¥çš„ç†è§£ã€‚
ä½† Nx å®˜ç¶²ä¸Šæœ‰ä¸å°‘ react çš„é–‹ç™¼æ•™å­¸ï¼Œå¦‚æœæœ‰å…¬å¸æƒ³è¦å¾ react è½‰åˆ° angular(æˆ–æ˜¯ angular è½‰ react ç‚ºä¸»)ï¼Œ
æ„Ÿè¦ºé€é Nx çš„å¹«åŠ©å¯ä»¥æ…¢æ…¢åœ°ç§»èŠ±æ¥æœ¨(ä¸ç„¶ Nx ä¹Ÿè‡³å°‘å¯ä»¥è®“é€™å…©æ¡†æ¶å’Œå¹³å…±è™•)ã€‚ğŸ˜†</p>
<h3>2-5. Angular è©å½™è¡¨</h3>
<p>åŸºæœ¬ä¸Šåªè¦çŸ¥é“ Angular çš„è©å½™å°±çœ‹å¾—æ‡‚ Nx åœ¨å¹¹éº»äº†ï¼Œä»¥ä¸‹è©å½™æ˜¯åœ¨ Nx ä¹Ÿæœƒçœ‹åˆ°çš„(å–è‡ª Angular å®˜ç¶²):</p>
<ul>
<li><p><a href="https://angular.tw/guide/glossary#workspace">Workspace</a> (å·¥ä½œå€)</p>
<p>ä¸€å€‹ Angular æ‰€æœ‰å°ˆæ¡ˆçš„é›†åˆ(å¯ä»¥ç”¨ Angular CLI æ“ä½œé€™å€‹é›†åˆ)ï¼Œé€šå¸¸æœƒåœ¨ git ç‰ˆæœ¬æ§åˆ¶çš„ repository ä¸­ã€‚</p>
</li>
<li><p><a href="https://angular.tw/guide/glossary#project">Project</a> (å°ˆæ¡ˆ)</p>
<p>å¯ä»¥é€šé Angular CLI å‘½ä»¤å‰µå»ºæˆ–ä¿®æ”¹çš„ç¨ç«‹æ‡‰ç”¨ç¨‹å¼æˆ–å‡½å¼åº«ã€‚å¯åœ¨ angular.json ä¸­é…ç½® workspace ä¸­çš„æ‰€æœ‰ projectsã€‚</p>
</li>
<li><p><a href="https://angular.tw/guide/glossary#library">Library</a> (å‡½å¼åº«)</p>
<p>ä¸€ç¨® Angular å°ˆæ¡ˆã€‚ç”¨ä¾†è®“å…¶å®ƒ Angular æ‡‰ç”¨åŒ…å«å®ƒï¼Œä»¥æä¾›å„ç¨®åŠŸèƒ½ã€‚å‡½å¼åº«ä¸æ˜¯ä¸€å€‹å®Œæ•´çš„ Angular æ‡‰ç”¨ï¼Œä¸èƒ½ç¨ç«‹åŸ·è¡Œã€‚</p>
</li>
<li><p><a href="https://angular.tw/guide/typescript-configuration#configuration-files">TypeScript é…ç½®</a></p>
<p>ä¸€å€‹ Angular å·¥ä½œå€ä¸­åŒ…å«å¤šå€‹ TypeScript é…ç½®æª”æ¡ˆã€‚åœ¨ rootï¼Œæœ‰å…©å€‹ä¸»è¦çš„ TypeScript é…ç½®æª”æ¡ˆï¼štsconfig.json æª”æ¡ˆå’Œ tsconfig.app.json æª”æ¡ˆã€‚<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#tsconfig-bases">ä½¿ç”¨ extends é€²è¡Œé…ç½®ç¹¼æ‰¿</a>ã€‚</p>
</li>
<li><p><a href="https://angular.tw/guide/glossary#schematic">Schematic</a> (åŸç†åœ–)</p>
<p>Angular CLI ä½¿ç”¨åŸç†åœ–ä¾†ç”¢ç”Ÿå’Œä¿®æ”¹ Angular å°ˆæ¡ˆåŠå…¶éƒ¨ä»¶ã€‚</p>
</li>
<li><p>Collection (é›†åˆ)</p>
<p>åœ¨ Angular ä¸­ï¼Œæ˜¯æŒ‡æ”¶éŒ„åœ¨åŒä¸€å€‹ <a href="https://angular.tw/guide/glossary#npm-package">npm å¥—ä»¶</a> ä¸­çš„ä¸€çµ„åŸç†åœ–ï¼ˆschematicsï¼‰ã€‚</p>
<p><img src="/assets/images/2021-12-28-00-23-52.png" alt="" /></p>
</li>
</ul>
<h3>2-6. Nx åè©è§£é‡‹</h3>
<p>Nx çš„ <code>[plugin]:[generator-name]</code> å°±æ˜¯ Angular çš„ <code>[collections]:[schematic]</code></p>
<p>ä»¥ä¸‹ç´€éŒ„é€™å€‹åœ¨ Nx çš„èªªæ˜èˆ‡ä½¿ç”¨æ–¹å¼:</p>
<ul>
<li><p>Generators (ç”¢ç”Ÿå™¨)
ç”¢ç”Ÿå™¨æä¾›äº†ä¸€ç¨®æ–¹æ³•ï¼Œä¾†è‡ªå‹•åŸ·è¡Œæ‚¨åœ¨é–‹ç™¼å·¥ä½œæµç¨‹ä¸­ï¼Œç¶“å¸¸åŸ·è¡Œçš„è¨±å¤šä»»å‹™ã€‚
åœ¨ Nx ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>@nrwl/devkit</code> æˆ– <code>@angular-devkit</code> ï¼Œä¾†è£½ä½œç”¢ç”Ÿå™¨ã€‚
ä½¿ç”¨ <code>@angular-devkit</code> è£½ä½œçš„ç¨±ç‚º schematics (åŸç†åœ–)ã€‚</p>
<p>ä¸‹åœ–ç‚º Nx å®˜ç¶²çš„ sidebar çš„ä¸€å°éƒ¨åˆ†æˆªåœ–ï¼Œå¯ä»¥çœ‹è¦‹ Generator æœ‰ä¸å°‘ç¯‡å¹…ä»‹ç´¹ã€‚</p>
<p><img src="/assets/images/2021-12-28-21-51-09.png" alt="" /></p>
</li>
</ul>
<h3>2-7. Nx çš„ Generators çš„ä½¿ç”¨æ–¹å¼</h3>
<p><strong>Nx çš„ <code>[plugin]:[generator-name]</code> å°±æ˜¯ Angular çš„ <code>[collections]:[schematic]</code>ã€‚</strong></p>
<p>æ‰€ä»¥æœ‰ç”¨ angular å¯«é schematic çš„äººæœ‰ç¦äº†ï¼Œå¯ä»¥æ›´å¿«ä¸Šæ‰‹ Nx çš„ generatorã€‚ğŸ‰</p>
<p>ä»¥ä¸‹æ˜¯é—œæ–¼å¦‚ä½•èª¿ç”¨ gnerator çš„å…§å®¹(æˆªè‡ª Nx å®˜ç¶²):</p>
<ul>
<li><p>èª¿ç”¨æ’ä»¶ç”¢ç”Ÿå™¨ <a href="https://nx.dev/l/a/generators/using-schematics#invoking-plugin-generators">Invoking Plugin Generators</a></p>
<p>ç”¢ç”Ÿå™¨å¯ä»¥è®“ä½ ä»¥ç°¡å–®å’Œå¯é‡è¤‡çš„æ–¹å¼æ–°å¢ä¿®æ”¹ç¨‹å¼ç¢¼ã€‚å¯ä»¥ä½¿ç”¨ <code>nx generate</code> æŒ‡ä»¤ä¾†èª¿ç”¨ (invoked) ç”¢ç”Ÿå™¨ã€‚
Generators allow you to create or modify your codebase in a simple and repeatable way. Generators are invoked using the nx generate command.</p>
<pre><code class="language-cmd">nx generate [plugin]:[generator-name] [options]
nx generate @nrwl/angular:component mycmp --project=myapp
</code></pre>
<p>åœ¨ä½¿ç”¨ç”¢ç”Ÿå™¨å‰æœ‰ä¸€å€‹ä¹¾æ·¨çš„ git å·¥ä½œè·¯å¾‘å¾ˆé‡è¦ï¼Œå› ç‚ºé€™æ¨£ä½ èƒ½è¼•æ˜“çš„é‚„åŸè®Šå‹• (revert changes)ã€ä¸¦ä½¿ç”¨ä¸ä¸€æ¨£çš„è¨­å®šä¾†é‡æ–°èª¿ç”¨ç”¢ç”Ÿå™¨ã€‚
It is important to have a clean git working directory before invoking a generator so that you can easily revert changes and re-invoke the generator with different inputs.</p>
</li>
</ul>
<h3>2-8. å°è£œå……: é—œæ–¼ collection ç‚ºä½•éƒ½æ˜¯ã€Œï¼ xxx/oooã€é€™æ¨£å‘½å?</h3>
<p>é€™æ˜¯ npm çš„å‘½åè¦å‰‡ï¼Œè©³æƒ…å¯ä»¥åƒè€ƒ npm å®˜ç¶²å½±ç‰‡: <a href="https://www.youtube.com/watch?v=O6JoXGnHK_Y">Working with npm private modules</a></p>
<blockquote>
<p>ï¼ å¾Œçš„å­—ç¨±ç‚º <code>@scope</code>ï¼Œé€šå¸¸æ˜¯ npm çš„å¸³è™Ÿåå­—(å°¤å…¶è¦ publish åˆ° npm ä¸Šçš„è©±ï¼Œå°±æ˜¯ <code>@username</code> çš„æ„æ€ã€‚)</p>
</blockquote>
<p><img src="/assets/images/2021-12-28-21-53-15.png" alt="" /></p>
<h2>3. æ„Ÿå—ä¸€ä¸‹ Nx çš„ monorepo å°ˆæ¡ˆ</h2>
<ul>
<li><p>Angular workspace çš„ libs é€šå¸¸éƒ½æœƒæœ‰ä¸€å€‹è‡ªå·±çš„ <code>package.json</code></p>
<p><img src="/assets/images/2021-12-28-00-24-21.png" alt="" /></p>
</li>
<li><p>Nx workspace é è¨­å…±ç”¨ä¸€å€‹ <code>package.json</code></p>
<p><img src="/assets/images/2021-12-28-00-28-00.png" alt="" /></p>
</li>
</ul>
<h3>3-1. ç”¢ç”Ÿä¸€å€‹ Nx çš„ workspace</h3>
<p>å¯ä»¥ç›´æ¥åƒè€ƒ npm çš„èªªæ˜:</p>
<p>https://www.npmjs.com/package/create-nx-workspace</p>
<p><img src="/assets/images/2021-12-28-21-48-43.png" alt="" /></p>
<blockquote>
<p>Nx 12 æä¾›çš„æ¨£æ¿ã€‚</p>
</blockquote>
<p>æˆ–æ˜¯çœ‹å®˜æ–¹ youtube æ•™å­¸:</p>
<p><a href="https://youtu.be/XVJIXcC-7Kc">Nx in 100 seconds: Setup a new Nx workspace using its presets</a></p>
<h3>3-2. Nx çš„ workspace åœ–ç¤º</h3>
<p>é™¤äº†åœ–ç¤ºè£¡çš„é€™äº›ï¼ŒNx workspace ä¹Ÿå¯ä»¥ç”¨ä¾†æ•´åˆé–‹ç™¼å…¶ä»–æ¡†æ¶(æœ€å¾Œé¢æœƒè£œå……)ã€‚</p>
<p><img src="/assets/images/2021-12-28-22-18-03.png" alt="" /></p>
<blockquote>
<p>å¾éœæ…‹ç¶²é æ¡†æ¶ã€å¾Œç«¯ nodejs æ¡†æ¶ã€å‰ç«¯æ¡†æ¶åˆ°ç¶²ç«™å»ºç½®å·¥å…·å’Œæœ€åŸºç¤çš„ jsã€htmlã€css éƒ½å¯ä»¥ç”¨ Nx æ¶æ§‹ä¾†æ•´åˆ</p>
</blockquote>
<h2>4. å¿«é€Ÿä¸Šæ‰‹ Nx Console æ“ä½œ (Generateã€Run)</h2>
<h3>4-1. Nx Console ç°¡ä»‹</h3>
<p>Nx æœ‰æä¾›ä¸€å€‹ä»‹é¢è®“äºº<strong>å¯ä»¥ç”¨é»æŒ‰æ–¹å¼å»åŸ·è¡ŒæŒ‡ä»¤</strong>ï¼Œå°±ä¸ç”¨ç¡¬èƒŒä¸€å †æŒ‡ä»¤äº†ï¼Œ</p>
<p>ä»¥ä¸‹æ˜¯é—œæ–¼é€™å€‹å¥—ä»¶çš„ä¸€äº›çŸ¥è­˜ï¼Œ</p>
<p>å› ç‚ºé€™å€‹ä»‹é¢æœ‰å¹«æŒ‡ä»¤åšåˆ†é¡ï¼Œ</p>
<p>é€™é‚Šç‰¹åˆ¥æœ‰åœ¨ 4-2 ~ 4-4 çš„åœ°æ–¹å° nx generate å’Œ nx run é€™å…©å€‹ä»‹é¢åˆ†é¡åšäº†æ›´æ·±å…¥çš„èªªæ˜ï¼Œ</p>
<p>é¦–å…ˆï¼Œæœƒå…ˆèªªæ˜ Nx Console æ˜¯ä»€éº¼? ä¸¦çœ‹çœ‹ä»‹é¢æœ‰ä»€éº¼?:</p>
<ul>
<li><p>Nx Console å¥—ä»¶å®‰è£</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=nrwl.angular-console">Install from the VS Code Marketplace</a></li>
<li><a href="https://github.com/nrwl/nx-console">Contribute on GitHub</a></li>
</ul>
</li>
<li><p>Nx Console å‰ç”Ÿä»Šä¸–</p>
<p><code>Nx Console</code> å‰ç”Ÿç‚º <code>Angular Console</code>ï¼Œè©³æƒ…å¯ä»¥çœ‹é€™ç¯‡æ–‡ç« :
https://blog.nrwl.io/re-introducing-nx-console-a21fa9f4f668</p>
<p><code>Angular Console</code> æ˜¯ä¸€å€‹æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ (Desktop App)ã€‚</p>
<p>æœ€ä¸€é–‹å§‹æ˜¯ä»¥ <code>Electron</code> åœ¨é–‹ç™¼ï¼Œå¾Œä¾† <code>Angular Console</code> åœ˜éšŠå°‡æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ç§»æ¤åˆ° VS Code çš„æ“´å……å¥—ä»¶ä¸Šã€‚çµæœç™¼ç¾æ•ˆèƒ½å¾ˆç³Ÿ...</p>
<p>æ‰€ä»¥ä»–å€‘å°±æ±ºå®šæ‰“æ‰é‡ç·´ï¼š ä»¥ VS Code å¥—ä»¶æä¾›çš„åŸºåº•é‡æ–°é–‹ç™¼ä¸€å€‹æ“´å……å¥—ä»¶ï¼Œ</p>
<p>ä¸¦ä¸”é †å¸¶å°‡å¥—ä»¶é‡æ–°å‘½åç‚º <code>Nx Console</code>ã€‚</p>
<p><code>Nx Console</code> åŒ…æ‹¬ <code>Angular Console</code> å’Œ <code>Nx</code> çš„åŠŸèƒ½ï¼Œæœ€å¾Œé€£ <code>Nx</code> å’Œ <code>Angular Console</code> çš„è£½ä½œåœ˜éšŠä¹Ÿæ•´ä½µå†ä¸€èµ·äº†ã€‚</p>
<p><img src="/assets/images/2021-12-28-22-21-50.png" alt="" /></p>
</li>
<li><p>Nx å¥—ä»¶æ•™å­¸</p>
<p>å¦‚æœä¸å°å¿ƒè·³éä¸€é–‹å§‹çš„æ–°æ‰‹æ•™å­¸ï¼Œå¯ä»¥åˆ° github çœ‹ï¼Œ<code>Nx Console</code> å¥—ä»¶çš„ä¹Ÿæ˜¯ä»¥ <code>Nx æ¶æ§‹</code> å¯«æˆçš„ã€‚ğŸ˜</p>
<p>https://github.com/nrwl/nx-console/tree/master/apps/vscode/src/getting-started</p>
</li>
<li><p>Nx Console å®˜ç¶²ä¸»æ‰“å£è™Ÿ</p>
<ul>
<li>Nx å°ˆç”¨çš„ç´” UI ä»‹é¢ã€‚(True UI for Nx)</li>
<li>å°ˆå®¶å’Œåˆå­¸çš†é©ç”¨ã€‚(Useful for both experts and beginners)</li>
<li>è±å¯Œçš„æ–‡ä»¶èªªæ˜ã€‚(Documentation)</li>
</ul>
</li>
<li><p>ä»‹é¢åˆ†ä¸‰å€‹å€å¡Š</p>
<ul>
<li><p>Generate &amp; Run Target
é–‹ç™¼å°ˆæ¡ˆæ™‚å¸¸ç”¨åˆ°çš„æŒ‡ä»¤ã€‚ç­‰ç­‰ä¸‹é¢æœƒè¬›ä¸€ä¸‹ <code>Generate</code> å’Œ <code>Run</code>ã€‚</p>
</li>
<li><p>Common Nx Commands
é—œæ–¼è¢«ä¿®æ”¹éçš„æª”æ¡ˆæœƒæœ‰ä¸€äº›åŠŸèƒ½å¯ä»¥ç”¨ï¼Œå¦å¤–é‚„æœ‰ç”¢ç”Ÿå°ˆæ¡ˆç›¸ä¾ç‹€æ…‹çš„åœ–è¡¨ã€ä¾æ¬¡åŸ·è¡Œå¤šå€‹æŒ‡ä»¤çš„æŒ‡ä»¤å¯ä»¥ç”¨ã€‚</p>
</li>
<li><p>Projects
é€™è£¡å°±æ˜¯åœ–ç¤ºåŒ– <code>angular.json</code> çš„ <code>projects</code> å€å¡Šï¼Œå¯ä»¥ç›´æ¥æŒ‰æŒ‰éˆ•åŸ·è¡Œ scriptã€‚</p>
<p><img src="/assets/images/2021-12-28-22-35-51.png" alt="" /></p>
</li>
</ul>
</li>
</ul>
<h3>4-2. nx generate (å¸¸è¦‹çš„ collection)</h3>
<blockquote>
<p>é€™è£¡æ˜¯ 2-6ã€2-7 å®šç¾©çš„æ‡‰ç”¨ï¼Œå¦‚æœçœ‹ä¸æ‡‚å¯ä»¥å¾€å›çœ‹ã€‚</p>
</blockquote>
<p>ç•¶ä½ æŒ‰ä¸‹ <code>Generate</code> çš„æŒ‰éˆ•æ™‚ï¼Œå°±æœƒå¹«ä½ åŸ·è¡Œ <code>nx generate</code>ï¼Œä¸¦æ ¹æ“š <code>generator</code> (<code>schematic</code>) ç”¢ç”Ÿé æœŸçš„çµæœã€‚
ä»¥ä¸‹åˆ—å‡ºå¸¸è¦‹çš„ collection:</p>
<ol>
<li><p><code>@angular/cdk</code></p>
</li>
<li><p><code>@angular/material</code></p>
<p>ä»¥ä¸Šå…©å€‹éƒ½æ˜¯ Angular Material ç›¸é—œ collectionã€‚</p>
<p><img src="/assets/images/2021-12-28-22-53-23.png" alt="" /></p>
</li>
<li><p><code>@nrwl/storybook</code></p>
<p>Storybook ç›¸é—œ collectionã€‚</p>
</li>
<li><p><code>@nrwl/angular</code></p>
<p>Nx cli é è¨­çš„ collection (1)ã€‚</p>
</li>
<li><p><code>@nrwl/workspace</code></p>
<p>Nx cli é è¨­çš„ collection (2)ã€‚</p>
</li>
<li><p><code>@schematics/angular</code></p>
<p>Angular cli é è¨­çš„ collectionã€‚</p>
</li>
</ol>
<h3>4-3. ç”¢ç”Ÿ Library æœ‰ä¸‰å€‹ schematic å¯ä»¥ç”¨</h3>
<ul>
<li><p><code>@schematics/angular</code></p>
<p><img src="/assets/images/2021-12-28-22-58-21.png" alt="" /></p>
</li>
<li><p><code>@nrwl/angular</code></p>
<p><img src="/assets/images/2021-12-28-22-59-05.png" alt="" /></p>
<p><img src="/assets/images/2021-12-28-23-00-04.png" alt="" /></p>
<p><img src="/assets/images/2021-12-28-23-00-23.png" alt="" /></p>
</li>
<li><p><code>@nrwl/workspace</code></p>
<p><img src="/assets/images/2021-12-28-22-59-20.png" alt="" /></p>
</li>
</ul>
<ul>
<li><p>collection åµæ¸¬æ–¹å¼ (node_module/ å…¨éƒ¨åµæ¸¬):</p>
<p>https://github.com/nrwl/nx-console/blob/ad3578a1a2/libs/server/src/lib/utils/read-collections.ts</p>
</li>
<li><p>vscode-angular-schematics collection åµæ¸¬æ–¹å¼:</p>
<p>https://github.com/cyrilletuzi/vscode-angular-schematics/blob/main/src/defaults.ts</p>
</li>
</ul>
<h3>4-4. nx run</h3>
<p>åŒæ™‚ build æ‰€æœ‰ projects å…§æœ‰ build script çš„å°ˆæ¡ˆã€‚</p>
<p><code>nx run-many --target=build --all --parallel</code></p>
<p><img src="/assets/images/2021-12-28-23-01-03.png" alt="" /></p>
<ul>
<li>https://angular.tw/cli/run</li>
<li>https://nx.dev/l/a/cli/run-many</li>
</ul>
<h2>5. å…¶ä»–è£œå……</h2>
<h3>5-1. å¸¸è¦‹çš„ Monorepo æ¶æ§‹é–‹ç™¼å·¥å…·</h3>
<p><img src="/assets/images/2021-12-28-23-03-34.png" alt="" /></p>
<p>é‚„æœ‰æ›´å¤šå·¥å…·: https://github.com/korfuri/awesome-monorepo</p>
<h3>5-2. èª¤è§£: Nx å’Œ Yarn Workspace/Lerna åªèƒ½æ“‡ä¸€ä½¿ç”¨?</h3>
<p>https://nx.dev/l/n/guides/lerna-and-nx#clarifying-misconceptions</p>
<p><img src="/assets/images/2021-12-28-23-05-05.png" alt="" /></p>
<p>åŠŸèƒ½æ²’æœ‰é‡ç–Šï¼ŒNx ä¸æ˜¯ package manager ä¹Ÿä¸æ˜¯ JS-only çš„å·¥å…·ã€‚å¯ä¸€èµ·ç”¨ã€‚</p>
<p><img src="/assets/images/2021-12-28-23-05-31.png" alt="" /></p>
<p>Nx å®˜æ–¹ youtube é »é“ç›¸é—œå½±ç‰‡</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=Edv7ZeI8Bwc">How to Migrate From Lerna to Nx</a></li>
<li><a href="https://www.youtube.com/watch?v=BO1rwynFBLM">Lerna/Yarn to Nx: Faster Build Times + Better Dev Ergonomics</a></li>
</ul>
<h3>5-3. æŸ¥çœ‹æœ‰å“ªäº› Nx plugin å¯ä»¥ä½¿ç”¨</h3>
<p><code>nx list</code></p>
<p>æˆ–åˆ°å®˜ç¶²æŸ¥çœ‹åˆ—è¡¨:
https://nx.dev/community#community-plugin-list</p>
<h3>5-4. Nx 13</h3>
<p><img src="/assets/images/2021-12-28-23-07-16.png" alt="" /></p>
<p>Webpack 5 Module Federation Plugin</p>
<ul>
<li>https://nx.dev/l/a/guides/setup-mfe-with-angular</li>
<li>Micro Frontends with Angular using Module Federation - Manfred Steyer</li>
</ul>
<h3>5-5. Nx å­¸ç¿’è³‡æº</h3>
<ul>
<li><p>Nx å®˜ç¶²</p>
<p>https://nx.dev/</p>
</li>
<li><p>Nx Console for VSCode ä»‹ç´¹</p>
<p>https://nx.dev/latest/angular/getting-started/console#nx-console-for-vscode</p>
</li>
<li><p>Github ä¸Šç”¨ Nx + Angular æ˜Ÿæ˜Ÿæ•¸æœ€å¤šçš„å°ˆæ¡ˆ Angular Spotify by Trung Vo</p>
<p>https://github.com/trungk18/angular-spotify</p>
</li>
<li><p>Angular Spotify ä½œè€…å°ˆè¨ª youtube</p>
<p>https://youtu.be/w04CfqZI8Xo</p>
</li>
<li><p>Nx Conf é€£çµ (2021/9/16-2021/9/17)</p>
<p>https://youtu.be/oG2QbFquraA</p>
<p>https://www.youtube.com/watch?v=hlGOaGDsWKg</p>
</li>
<li><p>æ›¸</p>
<p>https://connect.nrwl.io/app/books</p>
<p>https://nrwl.io/products</p>
</li>
</ul>
